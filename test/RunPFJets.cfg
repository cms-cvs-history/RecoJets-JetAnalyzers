#Example by D. Kcira, 2007.04.10

process PFJETS = {
  source = PoolSource {
     untracked vstring fileNames = {
  '/store/RelVal/2007/3/30/RelVal130ZPrimeDijets700-DIGI-RECO/0000/2C212E12-E3DE-DB11-B4D3-0002B3B09ABF.root'
     }
     untracked int32 maxEvents = 10
  }

  module out = PoolOutputModule { untracked string fileName = "jetsfrompf.root" }

# Particle Data Table
 include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"
#Geometry
 include "Geometry/CaloEventSetup/data/CaloGeometry.cfi"
# Jets
 include "RecoJets/Configuration/data/RecoJets.cff"
# Egamma
  include "RecoEcal/EgammaClusterProducers/data/islandClusteringSequence.cff" 
# Tracks
 include "RecoTracker/Configuration/data/RecoTracker.cff"
# Particle Flow
 include "RecoParticleFlow/PFClusterProducer/data/particleFlowCluster.cfi"
 include "RecoParticleFlow/PFProducer/data/particleFlow.cfi"
 replace particleFlow.pf_resolution_map_ECAL_eta="/afs/cern.ch/cms/sw/slc3_ia32_gcc323/cms/cmssw/CMSSW_1_3_0/src/RecoParticleFlow/PFProducer/data/resmap_ECAL_eta.dat"
 replace particleFlow.pf_resolution_map_ECAL_phi="/afs/cern.ch/cms/sw/slc3_ia32_gcc323/cms/cmssw/CMSSW_1_3_0/src/RecoParticleFlow/PFProducer/data/resmap_ECAL_phi.dat"
 replace particleFlow.pf_resolution_map_HCAL_eta="/afs/cern.ch/cms/sw/slc3_ia32_gcc323/cms/cmssw/CMSSW_1_3_0/src/RecoParticleFlow/PFProducer/data/resmap_HCAL_eta.dat"
 replace particleFlow.pf_resolution_map_HCAL_phi="/afs/cern.ch/cms/sw/slc3_ia32_gcc323/cms/cmssw/CMSSW_1_3_0/src/RecoParticleFlow/PFProducer/data/resmap_HCAL_phi.dat"

# FOR CMSSW 130 out of the box a translator module is needed
# Candidate Creator (translator module) for PF objects
# module particleFlowJetCandidates = PFJetCandidateCreator{
#   InputTag src = particleFlow
#   untracked bool verbose = 0
# }


# Jets
  module midPointCone5BasicJetsFromPF = MidpointJetProducer {
       untracked string alias = "MC5PFJet"
       using MconeJetParameters
       double inputEtMin = 0.
       double inputEMin = 0.
#      InputTag src = particleFlowJetCandidates
       InputTag src = particleFlow
       untracked string jetType = "GenericJet"
       double coneRadius = 0.5       
  }


#Path with translator module
#path pfjwithtransl = {islandClusteringSequence, ckftracks, particleFlowCluster, particleFlow, 
#                       particleFlowJetCandidates,  midPointCone5BasicJetsFromPF, out }

path pfjets =         {islandClusteringSequence, ckftracks, particleFlowCluster, particleFlow, 
                                                    midPointCone5BasicJetsFromPF, out }

}
