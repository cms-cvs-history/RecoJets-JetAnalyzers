# toy example to apply jet flavor corrections

process CORRECTIONS = {
  untracked PSet maxEvents = {untracked int32 input = 5}
  source = PoolSource {
     untracked vstring fileNames = {"file:reco.root"}
  }
replace PoolSource.fileNames = {
'/store/RelVal/2007/9/3/RelVal-RelValZPrimeDijets700-1188844800/0002/0690E11F-BC5A-DC11-81A2-0019DB29C620.root'
}


# we need to apply regular MCJet corrections first
include "JetMETCorrections/MCJet/data/MCJetCorrections152.cff" 

# we need to pick primary correction service to define IOV
es_prefer MCJetCorrectorIcone5 = MCJetCorrectionService {}

# now define flavor correction services
include "JetMETCorrections/MCJet/data/JetCorrections_L5Flavor_v1.cfi"

# define toy analyzer
module flavorJetCorrectionExample = FlavorJetCorrectionExample {
  InputTag src   =  MCJetCorJetIcone5 # IC5 MC corrected jets
  string UDSQuarksCorrector = "L5FlavorJetCorrectorUds"
  string CQuarkCorrector = "L5FlavorJetCorrectorC"	
  string BQuarkCorrector = "L5FlavorJetCorrectorB"
}

# path includes IC5 MCJet corrector and our toy analyzer

path p = {MCJetCorJetIcone5, flavorJetCorrectionExample}

}
