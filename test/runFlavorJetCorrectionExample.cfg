# toy example to apply jet flavor corrections

process CORRECTIONS = {
  source = PoolSource {
     untracked int32 maxEvents = 5
     untracked vstring fileNames = {"file:reco.root"}
  }
replace PoolSource.fileNames = {
'/store/RelVal/2007/4/9/RelVal131ZPrimeDijets700/0000/30B5DA24-28E8-DB11-AF8D-001731AF6A7D.root'
}


# we need to apply regular MCJet corrections first
include "JetMETCorrections/MCJet/data/MCJetCorrectionsSpring07.cff"

# we need to pick primary correction service to define IOV
es_prefer MCJetCorrectorIcone5 = MCJetCorrectionService {}

# now define flavor correction services
include "JetMETCorrections/MCJet/data/JetCorrections_L5Flavor_v1.cfi"

# define toy analyzer
module flavorJetCorrectionExample = FlavorJetCorrectionExample {
  InputTag src   =  MCJetCorJetIcone5 # IC5 MC corrected jets
  string UDSQuarksCorrector = "L5FlavorJetCorrectorUds"
  string CQuarkCorrector = "L5FlavorJetCorrectorC"	
  string BQuarkCorrector = "L5FlavorJetCorrectorB"
}

# path includes IC5 MCJet corrector and our toy analyzer

path p = {MCJetCorJetIcone5, flavorJetCorrectionExample}

}
