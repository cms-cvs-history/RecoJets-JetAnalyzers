#
#  cfg file for example that demonstrates two ways of gettnig corrected jets.
#  1) Corrected Collection: produces a collection of corected CaloJets and makes plots from them.
#  2) Correction Service: accesses the jet correction itself, and corrects CaloJets "on the fly"
#     without creating a collection of corrected CaloJets.
#
process JetPlots = {
    
  # Specify the input files
  source = PoolRASource { 
    untracked int32 maxEvents = -1
    untracked vstring fileNames = {'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_470_600/0020/04594B9C-0E9D-DB11-867B-001731AF6B81.root' }
  }	    

  # Specify dummy corrector needed to set record's IOV
  # This is needed when declaring multiple possible jet correction services,
  # as is done in MCJetCorrections.cff below.
  es_source DummyCorrector = SimpleJetCorrectionService {
        double scale = 1.
        string label = 'DummyCorrector' 
  }
  es_prefer DummyCorrector = SimpleJetCorrectionService {}
 
  # Specify the corJets: collection of corrected calojets and
  # also the correction service that allows user to correct jets on the fly.
  include "JetMETCorrections/MCJet/data/MCJetCorrections.cff"

  # Specify the jet algorithms for the collections we will read
  module plots = CorJetsExample {
    string CaloJetAlgorithm ="midPointCone5CaloJets"
    string CorJetAlgorithm = "MCJetCorJetMcone5"
    string JetCorrectionService = "MCJetCorrectorMcone5"
    string GenJetAlgorithm = "midPointCone5GenJets"
  }

  module evtInfo = AsciiOutputModule { 
  }

  # In the path below MCJetCorJetMcone5 is only necessary for the corrected CaloJet collections
  # to be written to event, it is not necessary for the correction service to
  # be available to allows for jets to be corrected on the fly.
  path p = { MCJetCorJetMcone5, plots }

  endpath ep = {
    evtInfo
  }
}
