# toy example to apply jet flavor corrections

process CORRECTIONS = {
  untracked PSet maxEvents = {untracked int32 input = 10}
  source = PoolSource {
     untracked vstring fileNames = {"file:reco.root"}
  }
replace PoolSource.fileNames = {
        '/store/relval/2008/2/27/RelVal-RelValTTbar-1204132718/0000/280930AB-93E5-DC11-BD44-0030487C618C.root'
}

include "JetMETCorrections/MCJet/data/L2RelativeCorrection_CSA07_10pb.cff"
include "JetMETCorrections/MCJet/data/L3AbsoluteCorrection_CSA07_10pb.cff"
# Pick MCJetCorrectionService to set record's IOV
es_prefer L2JetCorrectorIcone5 = L2RelativeCorrectionService {}

# now define flavor correction services
include "JetMETCorrections/MCJet/data/JetCorrections_L5Flavor_fromTTbar_iterativeCone5.cfi"

# define toy analyzer
module flavorJetCorrectionExample = FlavorJetCorrectionExample {
  InputTag src   =  L3JetCorJetIcone5
  string UDSQuarksCorrector = "L5FlavorJetCorrectorUds"
  string CQuarkCorrector = "L5FlavorJetCorrectorC"	
  string BQuarkCorrector = "L5FlavorJetCorrectorB"
  string GluonCorrector  = "L5FlavorJetCorrectorGluon"
}

# path includes IC5 L2+L3 corrector and our toy analyzer
path p = {L2JetCorJetIcone5, L3JetCorJetIcone5, flavorJetCorrectionExample}

}
